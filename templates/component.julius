function deleteComponent(comp) {
    var action = {
        tag: "DelComp",
        contents: comp.data('comp-index')
    };

    if(confirm("Are you sure you want to delete this component?"))
        runPatch(action, () => {
            comp.nextAll().each(function() {
                var ix = $(this).data('comp-index');
                $(this).data('comp-index', ix - 1);
            });
            comp.remove();
        });
}